
echo 'checking for uintptr_t'

FOUND=NO

echo "#include <sys/types.h>" > autotest.c
echo "int main() { uintptr_t i = 0; return 0; }" >> autotest.c

eval "$CC -o autotest autotest.c > /dev/null 2>&1"

if [ -x autotest ]; then
    echo " + uintptr_t found"
    FOUND=YES
else
    echo " + uintptr_t not found"
fi

rm autotest*


if [ $FOUND = NO ]; then
    FOUND="uint`expr 8 \* $NGX_PTR_BYTES`_t"
    echo " + $FOUND used"
    echo "typedef $FOUND  uintptr_t;"   >> $NGX_AUTO_CONFIG_H
    echo                                >> $NGX_AUTO_CONFIG_H
fi
